<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/JuDocWeb/libs/highlight/github.min.css"> <link rel=stylesheet  href="/JuDocWeb/css/jtd.css"> <link rel=icon  href="/JuDocWeb/assets/infra/favicon2.gif"> <title></title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/JuDocWeb/" class=title > <img style="height:60px;" src="/JuDocWeb/assets/infra/judoc.svg" alt=judoc  /> <style> @media (max-width: 31.25rem){ .side-bar .show-menu {height:30px;} } @media (max-width: 50rem) { .side-bar .header .title {padding-top:0; padding-bottom: 0;} .header .title img {height:60px; max-width: 100px !important;} } @media (min-width: 66.5rem){ .header .title img {max-width: 120px !important;} } </style> </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/JuDocWeb/" class=menu-list-link >• Home</a> <li class="menu-list-item active"><a href="/JuDocWeb/pub/workflow.html" class=menu-list-link >• Workflow</a> <li class="menu-list-parent "><a href="/JuDocWeb/pub/syntax/markdown.html">• Syntax</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/JuDocWeb/pub/syntax/markdown.html" class=menu-list-link >Markdown</a> <li class="menu-list-item "><a href="/JuDocWeb/pub/syntax/divs-commands.html" class=menu-list-link >Divs and Commands</a> <li class="menu-list-item "><a href="/JuDocWeb/pub/syntax/page-variables.html" class=menu-list-link >Page Variables</a> </ul> <li class="menu-list-parent "><a href="/JuDocWeb/pub/code/inserting-code.html">• Code</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/JuDocWeb/pub/code/inserting-code.html" class=menu-list-link >Inserting code</a> <li class="menu-list-item "><a href="/JuDocWeb/pub/code/eval-tricks.html" class=menu-list-link >Code tricks</a> <li class="menu-list-item "><a href="/JuDocWeb/pub/code/literate.html" class=menu-list-link >Literate.jl</a> </ul> <li class="menu-list-parent "><a href="/JuDocWeb/pub/faq/technical.html">• FAQ</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="/JuDocWeb/pub/faq/technical.html" class=menu-list-link >Technical</a> <li class="menu-list-item "><a href="/JuDocWeb/pub/faq/why-o-why.html" class=menu-list-link >Meta</a> </ul> <!-- <li class="menu-list-item {{ispage pub/menu3}}active{{end}}"><a href="/JuDocWeb/pub/menu3.html" class="menu-list-link {{ispage pub/menu3}}active{{end}}">Menu 3</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#" class=menu-list-link >Submenu</a> </ul> --> </ul> </div> <div class=footer > <a href="/JuDocWeb/pub/why-o-why.html"><img style="width:60%;padding-left:10px;margin-bottom:15px;" src="/JuDocWeb/assets/infra/logo1.svg" alt="JuDoc Logo" /></a> </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a name=pagetop ></a> <a id=github  href="/JuDocWeb//github.com/tlienart/JuDoc.jl">GitHub Repo</a> </div> <div class=jd-content > <h1 id=working_with_judoc ><a href="/JuDocWeb/pub/workflow.html#working_with_judoc">Working with JuDoc</a></h1> <span style="font-size:24px;font-weight:300;">Set things up in minutes and focus on writing great content.</span> <div class=blank ></div> <div class=jd-toc ><ol><li><a href="/JuDocWeb/pub/workflow.html#creating_your_website">Creating your website</a><ol><li><a href="/JuDocWeb/pub/workflow.html#folder_structure">Folder structure</a><li><a href="/JuDocWeb/pub/workflow.html#source_folder">Source folder</a><li><a href="/JuDocWeb/pub/workflow.html#organising_assets">Organising assets</a></ol><li><a href="/JuDocWeb/pub/workflow.html#deploying_your_website">Deploying your website</a><ol><li><a href="/JuDocWeb/pub/workflow.html#on_github">On GitHub</a><li><a href="/JuDocWeb/pub/workflow.html#on_gitlab">On GitLab</a></ol><li><a href="/JuDocWeb/pub/workflow.html#publication_step">Publication step</a><ol><li><a href="/JuDocWeb/pub/workflow.html#optimisation_step">Optimisation step</a></ol></ol></div> <h2 id=creating_your_website ><a href="/JuDocWeb/pub/workflow.html#creating_your_website">Creating your website</a></h2> <p>To get started, the easiest is to use the <code>newsite</code> function to generate a website folder which you can then modify to your heart&#39;s content. The command takes one mandatory argument: the <em>name</em> of the folder. You can optionally specify a template:</p> <pre><code class="julia-repl hljs"><span class=hljs-meta >julia&gt;</span><span class=julia > newsite(<span class=hljs-string >"TestWebsite"</span>; template=<span class=hljs-string >"vela"</span>)
</span>✓ Website folder generated at "TestWebsite" (now the current directory).
→ Use serve() from JuDoc to see the website in your browser.</code></pre> <p>There are a number of <a href="https://tlienart.github.io/JuDocTemplates.jl/">simple templates</a> you can choose from and tweak.</p> <p>Once you have created a new website folder, you can start the live-rendering of your website with</p> <pre><code class="julia-repl hljs"><span class=hljs-meta >julia&gt;</span><span class=julia > serve()
</span>→ Initial full pass...
→ Starting the server...
✓ LiveServer listening on http://localhost:8000/ ...
  (use CTRL+C to shut down)</code></pre> <p>and navigate in a browser to the corresponding address to preview the website.</p> <h3 id=folder_structure ><a href="/JuDocWeb/pub/workflow.html#folder_structure">Folder structure</a></h3> <p>The initial call to <code>newsite</code> generates a folder with the following structure:</p> <pre><code class="plaintext hljs">.
├── assets/
├── libs/
└── src/</code></pre> <p>After running <code>serve</code> the first time, two additional folders are generated: <code>css/</code> and <code>pub/</code> along with the landing page <code>index.html</code>. Among these folders:</p> <ul> <li><p>the <strong>main folder</strong> is <code>src/</code> and its subfolders, this is where the source files for your site are,</p> <li><p>you should <em>not modify</em> the <code>css/</code> and <code>pub/</code> folder as these are <em>generated</em> and any changes you do in there will be silently over-written whenever you modify files in <code>src/</code>; the same holds for <code>index.html</code>,</p> <li><p>the folders <code>assets/</code> and <code>libs/</code> contain <em>auxiliary files</em> supporting your site:</p> <ul> <li><p><code>assets/</code> will contain images, code snippets, etc.</p> <li><p><code>libs/</code> will contain javascript libraries.</p> </ul> </ul> <h3 id=source_folder ><a href="/JuDocWeb/pub/workflow.html#source_folder">Source folder</a></h3> <p>The main folder you should care about is <code>src/</code>. That folder has the following structure:</p> <pre><code class="plaintext hljs">.
├── _css
│   ├── judoc.css
│   └── ...
├── _html_parts
│   ├── head.html
│   └── ...
├── config.md
├── index.md
└── pages
    ├── page1.md
    └── ...</code></pre> <p>In this folder,</p> <ul> <li><p><code>index.md</code> will generate the site&#39;s landing page,</p> <li><p><code>pages/page1.md</code> would correspond to pages on your website &#40;you can have whatever subfolder structure you want in here&#41;</p> <li><p><code>_html_parts</code> contains the scaffolding of the pages which are assembled when the website HTML is generated. Among these files you will typically want to tweak <code>head.html</code> so that it calls the right <code>css</code> files etc.</p> <li><p><code>_css</code> contains the <code>css</code> style sheets for your website.</p> </ul> <div class=note ><div class=title >⚠ Note</div> <div class=content >You can also write pages in plain HTML and place them in the <code>src/</code> folder. These files will be copied over to the <code>pub/</code> folder as they are. For instance you may prefer to directly write an <code>index.html</code> file instead of generating it via the <code>index.md</code>. You will still need to put it at the exact same place &#40;<code>src/index.html</code>&#41; and let JuDoc copy the files appropriately.</div></div> <h3 id=organising_assets ><a href="/JuDocWeb/pub/workflow.html#organising_assets">Organising assets</a></h3> <p>Auxiliary assets such as images, pdf files etc. are recommended to go in the <code>assets/</code> folder and subfolders. The files that are located there will <em>not</em> be tracked for change and will also not be copied around.</p> <p>Alternatively, you could keep assets in <code>src/pages</code> and subfolders with the advantage that it may make the structure of the website simpler. If you decide to do this, do bear in mind that whatever is in <code>src/pages</code> gets copied to the generated <code>pub/</code> folder during the initial generation pass. While this will be imperceptible for a few light assets, it could incur a slowdown if you have heavy assets &#40;e.g. a big PDF file&#41;. In that case you&#39;ll be better off with the recommended approach and putting the big file in <code>assets/</code>.</p> <h2 id=deploying_your_website ><a href="/JuDocWeb/pub/workflow.html#deploying_your_website">Deploying your website</a></h2> <p>In this section we&#39;ll assume that you want to host your website on GitHub or GitLab, either on a personal page or a project page. If you&#39;re using your own hosting server, you just need to copy/clone the content of your folder there.</p> <p>Services like Netlify also provide an easy setup to link to a repo that contains your website.</p> <h3 id=on_github ><a href="/JuDocWeb/pub/workflow.html#on_github">On GitHub</a></h3> <p>The first step is to create a repository for a personal or a project website:</p> <ul> <li><p>Follow the <a href="https://pages.github.com/#user-site">guide on GitHub</a>.</p> </ul> <p>Once the repository is created, clone it on your computer, remove whatever GitHub added there for you and copy the content of your website folder.</p> <p>If it&#39;s your personal website &#40;base URL: <code>username.github.io/</code>&#41; just use <code>publish&#40;&#41;</code> and your website will be live in a matter of minutes.</p> <p>If it&#39;s a project website &#40;base URL: <code>username.github.io/MyProject/</code>&#41; there is one extra step needed, add this line in your <code>src/config.md</code> file:</p> <pre><code class="markdown hljs">@def prepath = "MyProject"</code></pre>
<p>then use <code>publish&#40;&#41;</code>. This will make sure all links are adjusted to reflect the base URL.</p>
<h3 id=on_gitlab ><a href="/JuDocWeb/pub/workflow.html#on_gitlab">On GitLab</a></h3>
<p>The first step is to create a repository for a personal or a project website:</p>
<ul>
<li><p>Follow the <a href="https://about.gitlab.com/product/pages/">guide on GitLab</a>.</p>

</ul>
<p>Then there are two small differences with the GitHub process:</p>
<ol>
<li><p>your website needs to be in a <code>public/</code> directory of the repository,</p>

<li><p>you need to specify a CI/CD script that tells GitLab how to deploy the website.</p>

</ol>
<p>Luckily both of these can be done in one shot, all you need to do is add the following script to the <code>.gitlab-ci.yml</code> file in your repository:</p>
<pre><code class="yaml hljs"><span class=hljs-attr >pages:</span>
<span class=hljs-attr >  stage:</span> <span class=hljs-string >deploy</span>
<span class=hljs-attr >  script:</span>
<span class=hljs-bullet >    -</span> <span class=hljs-string >mkdir</span> <span class=hljs-string >.public</span>
<span class=hljs-bullet >    -</span> <span class=hljs-string >cp</span> <span class=hljs-bullet >-r</span> <span class=hljs-string >*</span> <span class=hljs-string >.public</span>
<span class=hljs-bullet >    -</span> <span class=hljs-string >mv</span> <span class=hljs-string >.public</span> <span class=hljs-string >public</span>
<span class=hljs-attr >  artifacts:</span>
<span class=hljs-attr >    paths:</span>
<span class=hljs-bullet >      -</span> <span class=hljs-string >public</span>
<span class=hljs-attr >  only:</span>
<span class=hljs-bullet >    -</span> <span class=hljs-string >master</span></code></pre>
<p>The <code>script:</code> section tells the GitLab runner to copy all your files in a &quot;virtual&quot; <code>public/</code> directory. Note that this will not create a directory in your repo; it will just create one on GitLab in such a way that files can be rendered.</p>
<div class=note ><div class=title >⚠ Note</div> <div class=content >If your repository is private and you would like to avoid for some files to be in the <code>public/</code> folder, just add lines like <code>rm public/path/to/file1</code> in the <code>script:</code> section or use <code>rsync</code> instead of <code>cp</code>.</div></div>
<h2 id=publication_step ><a href="/JuDocWeb/pub/workflow.html#publication_step">Publication step</a></h2>
<p>The <code>publish</code> function is an easy way to deploy your website after making some changes locally. Basically it:</p>
<ul>
<li><p>applies an optional optimisation step &#40;see below&#41;</p>

<li><p>does a <code>git add -A; git commit -am &quot;jd-update&quot;; git push</code></p>

</ul>
<h3 id=optimisation_step ><a href="/JuDocWeb/pub/workflow.html#optimisation_step">Optimisation step</a></h3>
<p>The <code>optimize</code> function can</p>
<ol>
<li><p>pre-render KaTeX and highlight.js code to HTML so that the pages don&#39;t have to load these javascript libraries,</p>

<li><p>minify all generated HTML and CSS.</p>

</ol>
<p>See <code>?optimize</code> for options.</p>
<p>Those two steps may lead to faster loading pages. Note that in order to run them, you will need a couple of external dependencies as mentioned in the <a href="/JuDocWeb/index.html#installing_optional_extras">installation section</a>.
<div class=page-foot >
  <div class=copyright >
    &copy; Thibaut Lienart. Last modified: December 20, 2019. Website built with <a href="https://github.com/tlienart/JuDoc.jl">JuDoc.jl</a>.
  </div>
</div>

</div>

    </div> 
    </div> 
    </div> <!-- end of class page-wrap-->